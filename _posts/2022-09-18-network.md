---
title: "Network 정리"
categories:
  -  CS
tags:
  - Network
---


### Goal
 * 네트워크 관련 지식을 간략하게 정리해보자. 


## 네트워크란?

네트워크란 두대 이상의 컴퓨터를 연결하고 서로 통신하는것을 말함


## HTTP 프로토콜이란?

hyper text transfer protocol의 줄임말로 데이터를 교환할때 사용하는 응용계층의 프로토콜이다. 

주로 웹 브라우저의 상단에 입력해서 데이터 교환을 할때 사용된다.

기본적으로 상태정보를 저장하지 않는 statelss다.

## stateful statelss

stateful은 상태 정보를 서버 혹은 클라이언트에 저장해서 통신할때 유용하게 사용하는것을 의미

대표적인 프로토콜로 tcp가 있다.

stateless는 상태 정보를 서버 혹은 클라이언트에 저장하지 않아 통신할때 단순히 요청에 대한 응답만 하는것 의미

대표적인 프로토콜로 udp와 http가 있다.



## HTTPS

Http+ssl로 평문으로 통신하는 http에 암호화를 해주는 ssl을 추가해준것이다.

Http는 외부로 보내는 데이터를 tcp가 아닌 ssl로 보내게 되고 ssl은 암호화를 해서 tcp 로 보내어 외부 인터넷으로 전달하게 된다.

## tcp udp

둘다 공통적으로 전송계층에 속한다.

tcp는 연결형 프로토콜 클라이언트와 서버 사이에 3 way handling을 통해서 연결후 신뢰성 있는 통신을 한다. 이러한 연결과정 때문에 속도가 비교적 느리다.

udp는 비연결형 프로토콜로 클라이언트와 서버 사이에 별도의 연결작업을 하지 않고 바로 통신한다. 이 덕분에 빠르다는 장점이 있는 반면 신뢰성은 별로 없다.

## osi 7계층의 간략한 구조와

OSI 7 계층은 네트워크에서 통신이 일어나는 과정을 7개의 계층으로 나눈 것을 말한다

이는 송신 과정에서는 각 계층별로 헤더를 추가가 이루어지고 수신과정에서는 각 계층별로 헤더를 해석하며 제거해가면서 수신이 이루어진다.

이를 캡슐화 역캡슐화라 한다. 각 계층별 설명은 다음과 같다.

7 계층(응용 계층) : 사용자에게 통신을 위한 서비스 제공. 인터페이스 역할

6 계층(표현 계층) : 데이터의 형식(Format)을 정의하는 계층 (코드 간의 번역을 담당)

5 계층(세션 계층) : 컴퓨터끼리 통신을 하기 위해 논리적 연결인 세션을 만드는 계층

4 계층(전송 계층) : 서비스를 구분하고 데이터의 전송 방식을 담당하는 계층 (단위 :Segment) (ex. TCP, UDP)

3 계층(네트워크 계층) : 패킷을 목적지까지 가장 빠른 길로 전송하기 위한 계층 (단위 :Packet) (ex. Router)

2 계층(데이터링크 계층) : 데이터의 물리적인 전송과 에러 검출, 흐름 제어를 담당하는 계층 (단위 :frame) (ex. 이더넷)

1 계층(물리 계층) : 데이터를 전기 신호로 바꾸어주는 계층 (단위 :bit) (장비: 케이블,리피터,허브)


## 쿠키와 세션

쿠키와 세션은 기본적으로 무상태의 http에 stateful한 솔루션을 제공해주는 방법이다.

Cookie는 클라이언트의 상태정보를 클라이언트 pc에 저장하는 방법이고 Session은 상태정보를 서버에 저장하는 방법이다.

이는 각 장단점이 있는데 cookie같은 경우 클라이언트 pc에 저장하기에 서버에 큰 부하가 없다는 장점이 있는 반면 보안적으로 노출할 가능성이 높다는 단점이 있다.

세션은 서버에 저장함으로 보안적으로는 쿠키보다 좋을수 있어도 부하가 크다는 단점이 있다.

## 웹 동작 방식

만약 www.google.com에 접속한다고 가정해보자

1. 사용자가 웹 브라우저에 url 입력

2. dns서버에 요청하여 해당 Url의 ip 포트주소를 알아온다,

3. ip 주소를 통해 라우팅을 거쳐 해당 주소로 접속하게 되고 tcp 3 handsahke를 통해 연결을 한다.

4. 웹 서버는 클라이언트에게 http 응답 메시지를 보낸다.

5. 클라이언트를 응답 메시지를 받아 웹페이지 데이터로 변환하고, 출력한다.

## ip 주소

여태 ip주소는 간략하게 안다고 생각했는데 내가 너무 기초를 생략했나보다.. ip가 몇비트인가 몇바이트인가.. 등등 사수님과 대화할때 단절을 느끼고 뭔가 확신이 안서서 다시 개념을 보기로 했다.

ip주소는 광범위한 네트워크환경에서 위치를 특정할수 있는 주소다.

여기 까지가 내가 알고있는 상식이다. 자 근데 이게 어떻게 이루어질까?

네트워크는 32비트로 이루어져있다 8비트씩(0~255 아무리 대화에 긴장해도 그렇지 ㅠㅠ 1부터 255라고 사수앞에서 자랑스럽게 말한 나란남자 ㅠㅠ)

자 여기까지만 알아도 기초는 안다고 생각한다.(하지만 여기서 끝내만 안돼지..)

서브넷 마스크, 브로드캐스트, ipv6, cidr ,gateway등등을 더 정리해보려고한다.(사실이거 또한 네트워크에선 알아야될 상식이랄까?ㅠㅠ)

자 우선 ipv4소는 위에서 설명했다. 8비트씩 4개의 옥텟(컴퓨팅에서 8개의 비트가 한데 모인것)으로 구성되어 있는 주소

이러한 Ip주소는 네트워크 id와 host id로 구성되어 있다고 한다.

네트워크 id는 하나의 조직 그룹으로 Host들을 관리하기 위해 Network의 범위를 지정하여 관라하기 쉽게 만들어 낸것

호스트 id는 개별적으로 관리하기 위해 사용하게 된것

subnet 마스크는 network id와 host id를 구분하는 역할을 한다.

자 여기까지만 보면 뭔말인지 알다가도 모르겠다.(이거까지 보고 알면 천재아님?)

좀 더 자세히 설명하겠다.

서브넷 마스크는 서브넷팅이라고 해서 원본 네트워크를 여러 네트워크로 분리하는 방법의 어떤 비트를 활용하는것(ipv4 주소 고갈을 해결하는 방법)

subnet mask는 32비트로 이루어져 있다.

예를들어 192.38.40.0/26 이런식으로 되있다치자 뒤에 슬래쉬 뒤에 붙는게 서브넷 마스크 비트 개수다.

여기서 서브넷 마스크 비트를 가지고 and연산을 시행한다. 지금 같은 경우에는 비트가 26개니 앞에 3개의 옥텟은 그냥 넘어간다.

and연산을 시행하면 결과는 192.38.40.0이 될것이다 이는 네트워크 주소가 된다.

그리고 들어오는 host id마다 서브넷 마스크로 and연산을 시행하면 

이를 각각의 들어오는 네트워크 주소마다 지정해 구분하는 네트워크주소값을 하나 더 추가해 실질적으로 ip를 더 사용하게끔 할 수 있다.

나는 192.38.40.0/26 과 192.38.40.0/27을 다르게 처리해 ip주소를 여러개 사용할 수 있다는 식으로 이해했다.(즉 그냥 서브넷이라고 ip구분할수 있는 구분자 더 추가?)




참고 : 

[면접 질문](https://dev-coco.tistory.com/161#%F-%-F%--%A-%C-%A-%EC%BF%A-%ED%--%A--Cookie-%EC%--%--%--%EC%--%B-%EC%--%---Session-%EC%-D%--%--%EC%B-%A-%EC%-D%B-%EC%A-%--%EC%--%--%--%EB%-C%--%ED%--%B-%--%EB%A-%--%ED%--%B-%EC%A-%BC%EC%--%B-%EC%-A%---)

[서브넷](https://engkimbs.tistory.com/622)



